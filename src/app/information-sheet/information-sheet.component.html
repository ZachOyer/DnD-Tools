<div class="container">
  <!-- This is for MOBILE -->
  <div class="d-block d-sm-block d-md-none">
    <div class="row">
      <div class="col-6">
        <div class="form-group select-character">
          <label for="select-character" class="form-label mb-0 mt-2"> Select Character <fa-icon [icon]="faSelectChar"></fa-icon></label>
          <select #char1 (change)="setCurrentCharacter(char1.value)" class="form-select" id="select-character">
            <option>-- Characters --</option>
            <option *ngFor="let character of characters" value={{character.id}}>{{character.name}}</option>
          </select>
        </div>
      </div>
      <div class="col-6">
        <label>&nbsp;</label>
        <div class="create-character" routerLinkActive="active" routerLink="/character-creation">Add a character</div>
      </div>
      <div class="col-12 col-md-6">
        <h1 class="title-text">Character Info</h1>
      </div>
    </div>
  </div>
  <!-- This is for DESKTOP -->
  <div class="d-none d-sm-none d-md-block">
    <div class="row mb-2">
      <div class="col-3">
        <div class="form-group select-character">
          <label for="select-character" class="form-label mb-0 mt-2"> Select Character <fa-icon [icon]="faSelectChar"></fa-icon></label>
          <select #char2 (change)="setCurrentCharacter(char2.value)" class="form-select" id="select-character">
            <option>-- Characters --</option>
            <option *ngFor="let character of characters" value={{character.id}}>{{character.name}}</option>
          </select>
        </div>
      </div>
      <div class="col-6">
        <h1 class="title-text">Character Info</h1>
      </div>
      <div class="col-3">
        <label>&nbsp;</label>
        <div class="create-character" routerLinkActive="active" routerLink="/character-creation">Add a character</div>
      </div>
    </div>
  </div>


  <div class="row mb-2" style="height: max-content;">
    <div class="section">
      <div (click)="changeBasicInfo()" id="section-bar">
        <fa-icon *ngIf="!basicEdit" class="edit-button" [icon]="faEdit"></fa-icon>
        <fa-icon *ngIf="basicEdit" class="edit-button" [icon]="faSave"></fa-icon>
        <h3>Basic Info</h3>
      </div>
      <div class="row">
        <div class="col curtains">
          Character Name
        </div>
        <div class="col curtains">
          Level
        </div>
        <div class="col curtains">
          Class
        </div>
        <div class="col curtains">
          Race
        </div>
        <div class="col curtains">
          Background
        </div>
        <div *ngIf="characters && characters[currentCharacterIndex]?.alignment" class="col curtains">
          Alignment
        </div>
        <div *ngIf="characters && characters[currentCharacterIndex]?.xp" class="col curtains">
          XP
        </div>
      </div>
      <div *ngIf="characters" class="row" style="margin-top: 5px">
        <div class="col text-info">
          {{characters[currentCharacterIndex]?.name}}
        </div>
        <div class="col text-info">
          {{characters[currentCharacterIndex]?.level}}
        </div>
        <div class="col text-info">
          {{characters[currentCharacterIndex]?.class}}
        </div>
        <div class="col text-info">
          {{characters[currentCharacterIndex]?.race}}
        </div>
        <div class="col text-info">
          {{characters[currentCharacterIndex]?.background}}
        </div>
        <div *ngIf="characters[currentCharacterIndex]?.alignment" class="col text-info">
          {{characters[currentCharacterIndex]?.alignment}}
        </div>
        <div *ngIf="characters[currentCharacterIndex]?.xp" class="col text-info">
          {{characters[currentCharacterIndex]?.xp}}
        </div>
      </div>
    </div>
  </div>


  <div class="row" style="height: max-content;">
    <div class="col" style="margin-right: 3px;">
      <div class="row" style="height: 100%">
        <div class="section">
          <div (click)="changeStats()" id="section-bar">
            <fa-icon *ngIf="!statsEdit" class="edit-button" [icon]="faEdit"></fa-icon>
            <fa-icon *ngIf="statsEdit" class="edit-button" [icon]="faSave"></fa-icon>
            <h3>Stats</h3>
          </div>
          <table class="table">
            <thead>
              <tr style="background-color: #281648">
                <th scope="col">Attribute</th>
                <th scope="col">Amount</th>
                <th scope="col">Modifier</th>
              </tr>
            </thead>
            <tbody *ngIf="characters">
              <tr>
                <th scope="row"><fa-icon [icon]="faStr"></fa-icon> Str</th>
                <td class="text-info">{{characters[currentCharacterIndex]?.strength}}</td>
                <td class="text-info">{{getMod(characters[currentCharacterIndex]?.strength)}}</td>
              </tr>
              <tr class="table-dark">
                <th scope="row"><fa-icon [icon]="faDex"></fa-icon> Dex</th>
                <td class="text-info">{{characters[currentCharacterIndex]?.dexterity}}</td>
                <td class="text-info">{{getMod(characters[currentCharacterIndex]?.dexterity)}}</td>
              </tr>
              <tr>
                <th scope="row"><fa-icon [icon]="faCon"></fa-icon> Con</th>
                <td class="text-info">{{characters[currentCharacterIndex]?.constitution}}</td>
                <td class="text-info">{{getMod(characters[currentCharacterIndex]?.constitution)}}</td>
              </tr>
              <tr class="table-dark">
                <th scope="row"><fa-icon [icon]="faInt"></fa-icon> Int</th>
                <td class="text-info">{{characters[currentCharacterIndex]?.intelligence}}</td>
                <td class="text-info">{{getMod(characters[currentCharacterIndex]?.intelligence)}}</td>
              </tr>
              <tr>
                <th scope="row"><fa-icon [icon]="faWis"></fa-icon> Wis</th>
                <td class="text-info">{{characters[currentCharacterIndex]?.wisdom}}</td>
                <td class="text-info">{{getMod(characters[currentCharacterIndex]?.wisdom)}}</td>
              </tr>
              <tr class="table-dark">
                <th scope="row"><fa-icon [icon]="faCha"></fa-icon> Cha</th>
                <td class="text-info">{{characters[currentCharacterIndex]?.charisma}}</td>
                <td class="text-info">{{getMod(characters[currentCharacterIndex]?.charisma)}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>


    <div class="col" style="margin-left: 3px">
      <div class="row mb-2" style="height: 50%">
        <div class="section">
          <div (click)="changeBattleStats()" id="section-bar">
            <fa-icon *ngIf="!battleEdit" class="edit-button" [icon]="faEdit"></fa-icon>
            <fa-icon *ngIf="battleEdit" class="edit-button" [icon]="faSave"></fa-icon>
            <h3>Battle Stats</h3>
          </div>
          <div class="row">
            <div class="col" style="font-family: 'Oswald', sans-serif;">
              Armor Class <br>
              <fa-icon [icon]="faAC"></fa-icon>
            </div>
            <div class="col" style="font-family: 'Oswald', sans-serif">
              Initiative <br>
              <fa-icon [icon]="faInitiative"></fa-icon>
            </div>
            <div class="col" style="font-family: 'Oswald', sans-serif">
              Speed <br>
              <fa-icon [icon]="faMovement"></fa-icon>
            </div>
          </div>
          <div *ngIf="characters" class="row mb-3 curtains">
            <div class="col text-info">
              {{characters[currentCharacterIndex]?.armorClass}}
            </div>
            <div class="col text-info">
              {{characters[currentCharacterIndex]?.initiative}}
            </div>
            <div class="col text-info">
              {{characters[currentCharacterIndex]?.speed}}
            </div>
          </div>
          <div class="row">
            <div class="col">
              <button class="btn btn-outline-success health-button mt-4" (click)="changeHealth(5)">+5</button>
              <br>
              <button class="btn btn-outline-success health-button mt-5" (click)="changeHealth(1)">+1</button>
            </div>
            <div class="col">
              <div *ngIf="characters" class="health-ball" [ngClass]="calcHealth()">
                <h5 style="font-family: 'Oswald', sans-serif">Current Hit Points</h5>
                <h4 class="text-info mb-0">{{characters[currentCharacterIndex]?.hitPoints}}</h4>
                <h5 class="mx-auto" style="width: max-content; border-top: 2px solid white; padding-top: 8px; font-family: 'Oswald', sans-serif">Maximum Hit Points</h5>
                <h4 class="text-info">{{characters[currentCharacterIndex]?.maxHitPoints}}</h4>
              </div>
            </div>
            <div class="col">
              <button class="btn btn-outline-danger health-button mt-4" (click)="changeHealth(-5)">-5</button>
              <br>
              <button class="btn btn-outline-danger health-button mt-5" (click)="changeHealth(-1)">-1</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="row">
    <div class="row" style="height: 50%;">
      <div class="section">
        <div (click)="changeOtherInfo()" id="section-bar">
          <fa-icon *ngIf="!otherEdit" class="edit-button" [icon]="faEdit"></fa-icon>
          <fa-icon *ngIf="otherEdit" class="edit-button" [icon]="faSave"></fa-icon>
          <h3>Other Info</h3>
        </div>
      </div>
    </div>
  </div>
</div>
